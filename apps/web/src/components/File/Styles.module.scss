@use '@/styles/1_settings/mixins';
@use '@/styles/1_settings/colors';
@use '@/styles/1_settings/vars';

.file {
    $this: &;
    @include mixins.font-size(base);
    width: 100%;
    border: vars.$border-style;
    background-color: colors.$light;
    position: relative;

    &:hover {
        border-color: shade(colors.get(neutral), 6%);

        #{$this}__label {
            color: shade(colors.$muted, 20%);
        }
    }

    &:focus-within {
        border-radius: 2px;
        border-color: colors.get(primary);
        box-shadow: 0 0 0 1px colors.get(primary);

        #{$this}__label {
            color: colors.$text;
        }
    }

    &__wrapper {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 6px 6px 6px vars.$spacing--small;
        gap: vars.$spacing--xsmall;
        min-height: 62px;
    }

    &__label {
        display: block;
        @include mixins.font-size(small);
        color: colors.$muted;
        cursor: text;
    }

    &__options {
        position: absolute;
        top: vars.$spacing--xsmall;
        right: vars.$spacing--xsmall;
    }

    &__file-input {
        display: none;
    }

    &__alt-input {
        @include mixins.font-size(small);
        display: block;
        padding: vars.$spacing--small;
        color: colors.$muted;
        display: flex;
        border-top: vars.$border-style;

        input {
            flex-grow: 1;

            @include mixins.font-size(base);
            padding-left: vars.$spacing--small;
            color: colors.$text;

            @include mixins.input-placeholder {
                color: colors.get(neutral, base);
            }
        }
    }

    &__preview-container {
        display: grid;
        border-top: vars.$border-style;
        height: auto;
        max-width: 100%;
        overflow: hidden;
        background-color: colors.get(neutral, xlight);
    }

    &__preview {
        max-height: 300px;
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    &--read-only {
        border: none;
    }
}

@keyframes dirtyFadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes inputFadeIn {
    from {
        height: calc(vars.$form-padding-y - 3px);
    }
}
