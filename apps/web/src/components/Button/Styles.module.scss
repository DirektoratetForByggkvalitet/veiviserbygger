@use '@/styles/1_settings/mixins';
@use '@/styles/1_settings/colors';
@use '@/styles/1_settings/vars';

.button {
    $this: &;
    @include mixins.font-size(base);
    display: inline-flex;
    padding: 14px 20px;
    border-radius: vars.$border-radius;
    background-color: colors.get(neutral, light);
    align-items: center;
    justify-content: center;

    @include mixins.min-width(sm) {
        padding: 14px 24px;
    }

    &:hover,
    &:focus:focus-visible {
        background-color: colors.get(neutral, base);
    }

    &__icon {
        display: inline-flex;
        align-items: center;
        padding-right: vars.$spacing--xsmall;

        &--only-on-mobile {
            display: none;

            @include mixins.max-width(sm) {
                display: inline-flex;
                padding: 0;
                flex-shrink: 0;
            }
        }
    }

    &--primary {
        color: colors.$light;
        background-color: colors.get(primary, dark);

        &:hover,
        &:focus:focus-visible {
            background-color: colors.shade(colors.get(primary, dark), 4%);
            color: colors.$light;
        }

        &:disabled {
            background-color: colors.get(neutral);
            color: colors.$muted;
        }
    }

    &--warning {
        color: colors.$light;
        background-color: colors.$warning;

        &:hover,
        &:focus:focus-visible {
            background-color: colors.shade(colors.$warning, 6%);
            color: colors.$light;
        }

        &:disabled {
            background-color: colors.get(neutral);
            color: colors.$muted;
        }
    }

    &--small {
        @include mixins.font-size(small);
        padding: 11px 18px;
    }

    &--large {
        width: 100%;
        padding: 14px 20px;
    }

    &--subtle {
        background-color: transparent;
        width: fit-content;

        &:hover,
        &:focus:focus-visible {
            background-color: colors.get(neutral-transparent, xlight);
        }
    }

    &--loading {
        background-color: colors.get(neutral, xlight);
        animation: loading 600ms vars.$ease-out-quart infinite;
        animation-direction: alternate-reverse;
        color: colors.$muted;

        &:hover,
        &:focus:focus-visible {
            background-color: colors.get(neutral, xlight);
        }
    }

    &--icon-only {
        padding: 14px;
        background-color: transparent;

        &:hover,
        &:focus:focus-visible {
            background-color: colors.get(neutral, xlight);
        }

        #{$this}__icon {
            padding: 0;
        }

        &#{$this}--small {
            padding: 8px;
            height: 35px;
            width: 35px;
        }

        &:disabled {
            pointer-events: none;
            opacity: 0.2;
        }
    }

    &--only-on-mobile {
        #{$this}__text {
            @include mixins.max-width(sm) {
                display: none;
            }
        }
    }

    &--toggle[aria-pressed='true'] {
        background-color: colors.get(primary, dark);
        color: colors.$light;
    }

    &--toggle[aria-pressed='true']#{$this}--subtle,
    &--toggle[aria-pressed='true']#{$this}--icon-only {
        background-color: colors.get(neutral, light);
        color: colors.$text;
    }
}

@keyframes loading {
    from {
        opacity: 0.25;
    }

    to {
        opacity: 1;
    }
}
