@use '@/styles/1_settings/colors';
@use '@/styles/1_settings/mixins';
@use '@/styles/1_settings/vars';

.header {
    $this: &;
    @include mixins.font-size(base);
    display: flex;
    flex-direction: column;
    align-items: stretch;
    position: relative;
    z-index: vars.$level-4;

    &__wrapper {
        display: flex;
        align-items: center;
        height: vars.$header-height;
        gap: vars.$spacing--xsmall;
        padding-right: vars.$margin;
        border-bottom: vars.$border-style;
        background-color: colors.$light;
    }

    &__logo {
        height: calc(vars.$header-height - vars.$spacing--small);

        &:first-child {
            margin-left: vars.$spacing--small;
        }
    }

    &__name {
        @include mixins.font-size(base);
        display: none;
        font-weight: 400;
        text-wrap: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;

        @include mixins.min-width(sm) {
            display: block;
        }
    }

    &__toggle {
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        padding: 0 vars.$spacing--small 1px; // 1px = Optical centering
    }

    &__actions {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        margin-left: auto;
        gap: 6px;
    }

    &__settings {
        margin: 0 4px;
    }

    &__message {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: vars.$header-height;
        gap: vars.$spacing--xsmall;
        padding: vars.$spacing--xsmall;
        background-color: colors.get(neutral, xlight);
        border: vars.$border-style;
        border-top-width: 0;
    }

    &__message-title {
        display: flex;
        align-items: center;
        gap: vars.$spacing--xsmall;
        @include mixins.font-size(xsmall);
        @include mixins.min-width(sm) {
            @include mixins.font-size(small);
        }
    }

    &--open {
        position: sticky;
        top: 0;
    }

    &--show-actions-mobile {
        @include mixins.max-width(sm) {
            #{$this}__actions {
                display: flex;
                animation: enter 300ms vars.$ease-out-quart both;
                margin-left: 0;
                flex-grow: 1;
                padding-left: vars.$spacing--xsmall;
                justify-content: flex-start;
            }
            #{$this}__logo,
            #{$this}__name,
            #{$this}__toggle:not(.header__toggle--mobile-actions) {
                display: none;
            }
        }
    }
}

@keyframes enter {
    from {
        clip-path: inset(-20px -20px -20px 100%);
    }

    to {
        clip-path: inset(-20px -20px -20px -20px);
    }
}
