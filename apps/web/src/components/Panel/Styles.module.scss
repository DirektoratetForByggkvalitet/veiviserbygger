@use '@/styles/1_settings/mixins';
@use '@/styles/1_settings/colors';
@use '@/styles/1_settings/vars';

.panel {
    $this: &;

    &__panel {
        position: fixed;
        display: flex;
        flex-direction: column;
        right: 0;
        top: vars.$header-height;
        bottom: 0;
        width: vars.$panel-width;
        z-index: vars.$level-3 - 1;
        background-color: colors.get(neutral, xlight);
        box-shadow: vars.$shadow;

        @include mixins.entering {
            animation: enter 500ms vars.$ease-out-quart backwards;
        }

        @include mixins.exiting {
            animation: exit 500ms vars.$ease-in-out-quint--custom forwards;
        }

        outline: 0;
    }

    &__content {
        padding: vars.$margin;
        padding-bottom: vars.$spacing--large;
        overflow: auto;
        flex-grow: 1;
    }

    &__header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: vars.$spacing--xsmall;
        height: vars.$header-height;
        border-bottom: vars.$border-style;
        background-color: colors.$light;
        padding: 0 vars.$margin;
        flex-shrink: 0;
    }

    &__title {
        @include mixins.font(base, normal);
        @include mixins.font-size(base);
        flex-grow: 1;
    }

    &__close {
        display: flex;
        align-items: center;
        justify-content: center;
        align-self: stretch;
        padding: 0 vars.$margin;
    }

    &__backdrop {
        position: fixed;
        top: vars.$header-height;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: vars.$level-3;
        background-color: rgba(white, 0.4);

        @include mixins.entering {
            animation: fade-in 500ms vars.$ease-out-quart backwards;
        }

        @include mixins.exiting {
            animation: fade-out 500ms vars.$ease-in-out-quint--custom forwards;
        }
    }
}

@keyframes enter {
    from {
        transform: translateX(100%);
    }
}

@keyframes exit {
    to {
        transform: translateX(100%);
    }
}

@keyframes fade-in {
    from {
        opacity: 0;
    }
}

@keyframes fade-out {
    to {
        opacity: 0;
    }
}
